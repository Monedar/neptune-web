{
  "type": "object",
  "required": ["name", "details"],
  "properties": {
    "name": {
      "type": "string",
      "title": "Full name"
    },
    "bank": {
      "title": "Bank",
      "control": "select",
      "oneOf": [
        {
          "title": "X Bank",
          "type": "object",
          "required": ["iban"],
          "properties": {
            "iban": {
              "type": "string",
              "title": "Bank number",
              "default": "1231253671526"
            }
          }
        },
        {
          "title": "Y Bank",
          "type": "object",
          "required": ["bankCode"],
          "properties": {
            "bankCode": {
              "type": "string",
              "title": "Bank Code",
              "displayFormat": "**-**-**",
              "minLength": 6,
              "maxLength": 7
            }
          }
        }
      ]
    },
    "details": {
      "title": "Account type",
      "oneOf": [
        {
          "title": "IBAN",
          "type": "object",
          "required": ["iban"],
          "properties": {
            "iban": {
              "type": "string",
              "title": "IBAN",
              "default": "ABCD1234EF123456"
            }
          }
        },
        {
          "title": "Sort code & Account number",
          "type": "object",
          "required": ["sortCode", "accountNumber"],
          "properties": {
            "sortCode": {
              "type": "string",
              "title": "Sort code",
              "displayFormat": "**-**-**",
              "minLength": 6,
              "maxLength": 7
            },
            "accountNumber": {
              "type": "string",
              "title": "Account number",
              "minLength": 8,
              "maxLength": 10
            }
          }
        }
      ]
    }
  }
}
